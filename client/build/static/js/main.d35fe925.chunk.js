(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,a,t){e.exports=t(57)},57:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(25),c=t.n(l),o=t(27),i=t(1),s=t(12),m=t.n(s),u=t(26),d=t(8),v=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-info"},r.a.createElement("p",{className:"navbar-brand"},"Google Books"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/"},"Search")),r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/saved"},"Your Saved Books")))))},f=function(){return r.a.createElement("div",{className:"jumbotron jumbotron-fluid bg-info text-white"},r.a.createElement("h1",{className:"display-4"},"Google Book Search"),r.a.createElement("p",{className:"lead"},"Search for your favorite books"))},E=function(e){return r.a.createElement("div",{id:"search-form",className:"text-center"},r.a.createElement("input",{className:"form-control",name:"title",placeholder:"Search for a book...",type:"text",onChange:e.handleInputChange}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-info",onClick:e.handleFormSubmit,type:"submit"},"   Search"))},b=function(e){return e.href?r.a.createElement("button",{className:"btn btn-info btn-lg btn-block"},r.a.createElement("a",{href:e.href,target:"_blank"},e.children)):e.onClick?r.a.createElement("button",{className:e.type,role:"button",onClick:e.onClick,"data-id":e.id},e.children):void 0},h=function(e){var a=e.image,t=e.id,n=e.title,l=e.authors,c=e.description,o=e.link,i=e.handleSave,s=e.handleDelete;return i?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card mb-3",style:{maxWidth:"540px"}},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{src:a,className:"card-img",alt:n})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Title: ",n),r.a.createElement("p",{className:"card-text"},r.a.createElement("span",{className:"font-weight-bold"},"Author(s):")," ",l),r.a.createElement("p",{className:"card-text"},c),r.a.createElement("br",null),r.a.createElement("div",{className:"mx-auto"},r.a.createElement(b,{href:o},"Check it out"),r.a.createElement(b,{type:"btn btn-success btn-lg btn-block",id:t,onClick:function(e){return i(e)}},"Save"))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card mb-3",style:{maxWidth:"540px"}},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{src:a,className:"card-img",alt:n})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Title: ",n),r.a.createElement("p",{className:"card-text"},r.a.createElement("span",{className:"font-weight-bold"},"Author(s):")," ",l),r.a.createElement("p",{className:"card-text"},c),r.a.createElement("br",null),r.a.createElement("div",{className:"mx-auto"},r.a.createElement(b,{type:"btn btn-danger btn-lg btn-block",id:t,onClick:function(e){return s(e)}},"Delete")))))))},p=t(10),g=t.n(p),N=function(e){return g.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},k=function(){return g.a.get("/api/books")},w=function(e){return g.a.post("/api/books",e)},x=function(e){return g.a.delete("/api/books/"+e)},y=function(){var e=Object(n.useState)([]),a=Object(d.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)([]),o=Object(d.a)(c,2),i=o[0],s=o[1],b=Object(n.useState)(""),p=Object(d.a)(b,2),g=p[0],x=p[1];Object(n.useEffect)((function(){k().then((function(e){return l(e.data)}))}),[t]);var y=function(){var e=Object(u.a)(m.a.mark((function e(a){var n,r,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),n=a.target.getAttribute("data-id"),r=i.filter((function(e){return e.id===n})),c={title:r[0].volumeInfo.title,authors:r[0].volumeInfo.authors,description:r[0].volumeInfo.description,image:r[0].volumeInfo.imageLinks.thumbnail,link:r[0].volumeInfo.infoLink},t[n]?console.log("Book already saved"):(o=t.push(c),l(o),w(c));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement(v,null),r.a.createElement("br",null),r.a.createElement(f,null),r.a.createElement(E,{handleInputChange:function(e){x(e.target.value)},handleFormSubmit:function(e){e.preventDefault(),N(g).then((function(e){return s(e.data.items)})).catch((function(e){throw e}))}}),r.a.createElement("br",null),r.a.createElement("div",{className:" container search_results"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"col-10"},i.map((function(e){return r.a.createElement(h,{key:e.id,id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:e.volumeInfo.imageLinks.thumbnail,link:e.volumeInfo.canonicalVolumeLink,handleSave:y})}))),r.a.createElement("div",{className:"col-1"}))))},S=function(){var e=Object(n.useState)([]),a=Object(d.a)(e,2),t=a[0],l=a[1];Object(n.useEffect)((function(){k().then((function(e){return l(e.data)}))}),[t]);var c=function(e){e.preventDefault();var a=e.target.getAttribute("data-id");x(a)};return r.a.createElement("div",{className:"container"},r.a.createElement(v,null),r.a.createElement("br",null),r.a.createElement(f,null),r.a.createElement("br",null),r.a.createElement("div",{className:" container search_results"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"col-10"},t.map((function(e){return r.a.createElement(h,{key:e._id,id:e._id,title:e.title,authors:e.authors,description:e.description,image:e.image,link:e.link,handleDelete:c})}))),r.a.createElement("div",{className:"col-1"}))))},j=function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:y}),r.a.createElement(i.a,{exact:!0,path:"/saved",component:S}))))},C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(j,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");C?function(e){fetch(e).then((function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):I(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):I(e)}))}}()}},[[29,1,2]]]);
//# sourceMappingURL=main.d35fe925.chunk.js.map